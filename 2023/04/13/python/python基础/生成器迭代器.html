<hr>
<p>title: python基础 – 生成器迭代器<br>categories:</p>
<ul>
<li>python</li>
<li>python基础<br>tags:</li>
<li>python</li>
<li>python基础</li>
</ul>
<hr>
<h1 id="生成器"><a href="#生成器" class="headerlink" title="生成器"></a>生成器</h1><pre><code>ge = (i * i for i in range(1, 7))
&lt;!--调用方式一：--&gt;
print(next(ge))
print(next(ge))
print(next(ge))
&lt;!--调用方式二--&gt;
for item in ge:
    print(item)
</code></pre>
<ul>
<li>之前讲过python有列表推导和生成器表达式，列表推导会把所有元素都生成放到列表中再进行遍历，而生成器表达式是在遍历的过程中对后续的元素进行生成（保存的不是对应的元素而是如何推算出元素的算法）</li>
</ul>
<pre><code>def fib(n):
    i = 0
    a, b = 1, 1
    while i &lt; n:
        yield a
        a, b = b, a + b
        i += 1


gf = fib(6)
print(next(gf))
print(next(gf))

gf = fib(6)

for item in gf:
    print(item)
</code></pre>
<ul>
<li>生成器是是用yield进行实现的，和Java多线程中的yield完全不同，这里是每次迭代的时候会在yield处进行return，下次遍历从yield之后再次执行</li>
</ul>
<h1 id="迭代器"><a href="#迭代器" class="headerlink" title="迭代器"></a>迭代器</h1><ul>
<li>可以是用for-in语句的对象称为可迭代对象（Iterable），一个可迭代对象可以作为内置函数next()的实参进行惰性推算叫做迭代器对象（Iterator），列表、元组、字典等都不是迭代器对象</li>
<li>可以调用内置函数iter()把可迭代对象转换为迭代器对象</li>
<li>一个对象同时实现了__iter__()和__next()<strong>，这个对象也被称为迭代器对象，for-in语句会先调用__iter()</strong>()返回一个可迭代对象，然后不断调用__next()__()返回下一次迭代的值</li>
</ul>
